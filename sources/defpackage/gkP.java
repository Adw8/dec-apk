package defpackage;

import androidx.lifecycle.LifecycleCoroutineScopeImpl;
import dev.kdrag0n.virt.vm.ForwardedPort;
import java.util.LinkedHashMap;
import java.util.Set;

/* renamed from: gkP  reason: default package */
/* loaded from: classes.dex */
public final class gkP {
    public final aME R;

    /* renamed from: R  reason: collision with other field name */
    public final doT f3916R;

    /* renamed from: R  reason: collision with other field name */
    public final i4m f3917R;

    /* renamed from: R  reason: collision with other field name */
    public final iHI f3918R;

    /* renamed from: R  reason: collision with other field name */
    public final j2f f3919R;

    /* renamed from: R  reason: collision with other field name */
    public final k49 f3921R;

    /* renamed from: R  reason: collision with other field name */
    public final LinkedHashMap f3920R = new LinkedHashMap();
    public final LinkedHashMap v = new LinkedHashMap();

    public gkP(aME ame, iHI ihi, doT dot, k_Z k_z, j2f j2f) {
        this.R = ame;
        this.f3918R = ihi;
        this.f3916R = dot;
        this.f3919R = j2f;
        this.f3921R = k_z.R(ForwardedPort.class);
        i4m M = l6.M(new i31(new eme(dot, new ghA(dot), null)), mxC.N(), dq.f2892v, (Set) dot.e.v(dot, doT.v[2]));
        LifecycleCoroutineScopeImpl N = mxC.N();
        mox mox = new mox(17, this);
        this.f3917R = l6.M(new f_9(M, mox, 1), N, dq.f2880R, mox.x(M.getValue()));
        be1 be1 = new be1(this, null);
        mxC.y(ihi.f4523R, mxC.N(), new abJ(ihi, be1));
        mxC.y(ame.f848R, mxC.N(), new hki(7, this));
    }

    /* JADX WARNING: Removed duplicated region for block: B:10:0x0022  */
    /* JADX WARNING: Removed duplicated region for block: B:16:0x003e  */
    /* JADX WARNING: Removed duplicated region for block: B:21:0x0062 A[RETURN] */
    /* JADX WARNING: Removed duplicated region for block: B:22:0x0063  */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public final java.lang.Object R(dev.kdrag0n.virt.vm.ForwardedPort r9, defpackage.aOO r10) {
        /*
            r8 = this;
            boolean r0 = r10 instanceof defpackage.fF_
            if (r0 == 0) goto L_0x0013
            r0 = r10
            fF_ r0 = (defpackage.fF_) r0
            int r1 = r0.e
            r2 = -2147483648(0xffffffff80000000, float:-0.0)
            r3 = r1 & r2
            if (r3 == 0) goto L_0x0013
            int r1 = r1 - r2
            r0.e = r1
            goto L_0x0018
        L_0x0013:
            fF_ r0 = new fF_
            r0.<init>(r8, r10)
        L_0x0018:
            java.lang.Object r10 = r0.f3364R
            bGR r1 = defpackage.bGR.COROUTINE_SUSPENDED
            int r2 = r0.e
            r3 = 1
            r4 = 2
            if (r2 == 0) goto L_0x003e
            if (r2 == r3) goto L_0x0036
            if (r2 != r4) goto L_0x002e
            dev.kdrag0n.virt.vm.ForwardedPort r8 = r0.R
            gkP r9 = r0.f3363R
            defpackage.jjU.o(r10)
            goto L_0x0066
        L_0x002e:
            java.lang.IllegalStateException r8 = new java.lang.IllegalStateException
            java.lang.String r9 = "call to 'resume' before 'invoke' with coroutine"
            r8.<init>(r9)
            throw r8
        L_0x0036:
            dev.kdrag0n.virt.vm.ForwardedPort r9 = r0.R
            gkP r8 = r0.f3363R
            defpackage.jjU.o(r10)
            goto L_0x0056
        L_0x003e:
            defpackage.jjU.o(r10)
            aME r10 = r8.R
            java.lang.String r2 = r9.f2732R
            int r5 = r9.R
            int r6 = r9.v
            r0.f3363R = r8
            r0.R = r9
            r0.e = r3
            java.lang.Object r10 = r10.R(r2, r5, r6, r0)
            if (r10 != r1) goto L_0x0056
            return r1
        L_0x0056:
            r0.f3363R = r8
            r0.R = r9
            r0.e = r4
            java.lang.Object r10 = r8.c(r9, r0)
            if (r10 != r1) goto L_0x0063
            return r1
        L_0x0063:
            r7 = r9
            r9 = r8
            r8 = r7
        L_0x0066:
            doT r10 = r9.f3916R
            hSq r0 = r10.e
            icv[] r1 = defpackage.doT.v
            r2 = r1[r4]
            java.lang.Object r0 = r0.v(r10, r2)
            java.util.Set r0 = (java.util.Set) r0
            k49 r9 = r9.f3921R
            java.lang.String r8 = r9.X(r8)
            java.util.LinkedHashSet r9 = new java.util.LinkedHashSet
            int r2 = r0.size()
            int r2 = r2 + r3
            int r2 = defpackage.jjU.y(r2)
            r9.<init>(r2)
            r9.addAll(r0)
            r9.add(r8)
            hSq r8 = r10.e
            r0 = r1[r4]
            r8.R(r10, r0, r9)
            o8s r8 = defpackage.o8s.R
            return r8
        */
        throw new UnsupportedOperationException("Method not decompiled: defpackage.gkP.R(dev.kdrag0n.virt.vm.ForwardedPort, aOO):java.lang.Object");
    }

    /* JADX WARNING: Removed duplicated region for block: B:10:0x0022  */
    /* JADX WARNING: Removed duplicated region for block: B:14:0x0034  */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public final java.lang.Object c(dev.kdrag0n.virt.vm.ForwardedPort r8, defpackage.aOO r9) {
        /*
            r7 = this;
            boolean r0 = r9 instanceof defpackage.ghB
            if (r0 == 0) goto L_0x0013
            r0 = r9
            ghB r0 = (defpackage.ghB) r0
            int r1 = r0.e
            r2 = -2147483648(0xffffffff80000000, float:-0.0)
            r3 = r1 & r2
            if (r3 == 0) goto L_0x0013
            int r1 = r1 - r2
            r0.e = r1
            goto L_0x0018
        L_0x0013:
            ghB r0 = new ghB
            r0.<init>(r7, r9)
        L_0x0018:
            java.lang.Object r9 = r0.f3873R
            bGR r1 = defpackage.bGR.COROUTINE_SUSPENDED
            int r2 = r0.e
            r3 = 1
            r4 = 0
            if (r2 == 0) goto L_0x0034
            if (r2 != r3) goto L_0x002c
            dev.kdrag0n.virt.vm.ForwardedPort r8 = r0.R
            gkP r7 = r0.f3872R
            defpackage.jjU.o(r9)
            goto L_0x006e
        L_0x002c:
            java.lang.IllegalStateException r7 = new java.lang.IllegalStateException
            java.lang.String r8 = "call to 'resume' before 'invoke' with coroutine"
            r7.<init>(r8)
            throw r7
        L_0x0034:
            defpackage.jjU.o(r9)
            r9 = 0
            r2 = 4
            java.lang.StringBuilder r5 = new java.lang.StringBuilder
            r5.<init>()
            java.lang.String r6 = "startPortForward: "
            r5.append(r6)
            r5.append(r8)
            java.lang.String r5 = r5.toString()
            java.lang.String r6 = "virtc/portfwd"
            defpackage.kxm.v(r6, r2, r5, r9)
            int r9 = r8.v
            r2 = 1024(0x400, float:1.435E-42)
            if (r9 < r2) goto L_0x0057
            r2 = r3
            goto L_0x0058
        L_0x0057:
            r2 = r4
        L_0x0058:
            if (r2 == 0) goto L_0x007d
            j2f r2 = r7.f3919R
            dev.kdrag0n.virt.control.NetStartPortForward r5 = new dev.kdrag0n.virt.control.NetStartPortForward
            r5.<init>(r9)
            r0.f3872R = r7
            r0.R = r8
            r0.e = r3
            java.lang.Object r9 = r2.X(r5, r0)
            if (r9 != r1) goto L_0x006e
            return r1
        L_0x006e:
            _c r9 = new _c
            r0 = 19
            r9.<init>(r7, r0, r8)
            r7 = 31
            defpackage.mLz.Y(r4, r9, r7)
            o8s r7 = defpackage.o8s.R
            return r7
        L_0x007d:
            java.lang.IllegalArgumentException r7 = new java.lang.IllegalArgumentException
            java.lang.String r8 = "Failed requirement."
            java.lang.String r8 = r8.toString()
            r7.<init>(r8)
            throw r7
        */
        throw new UnsupportedOperationException("Method not decompiled: defpackage.gkP.c(dev.kdrag0n.virt.vm.ForwardedPort, aOO):java.lang.Object");
    }

    /* JADX WARNING: Removed duplicated region for block: B:10:0x0021  */
    /* JADX WARNING: Removed duplicated region for block: B:14:0x0033  */
    /* JADX WARNING: Removed duplicated region for block: B:19:0x0076  */
    /* JADX WARNING: Removed duplicated region for block: B:22:0x008b  */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public final java.lang.Object v(dev.kdrag0n.virt.vm.ForwardedPort r7, defpackage.aOO r8) {
        /*
            r6 = this;
            boolean r0 = r8 instanceof defpackage.h95
            if (r0 == 0) goto L_0x0013
            r0 = r8
            h95 r0 = (defpackage.h95) r0
            int r1 = r0.e
            r2 = -2147483648(0xffffffff80000000, float:-0.0)
            r3 = r1 & r2
            if (r3 == 0) goto L_0x0013
            int r1 = r1 - r2
            r0.e = r1
            goto L_0x0018
        L_0x0013:
            h95 r0 = new h95
            r0.<init>(r6, r8)
        L_0x0018:
            java.lang.Object r8 = r0.f4094R
            bGR r1 = defpackage.bGR.COROUTINE_SUSPENDED
            int r2 = r0.e
            r3 = 1
            if (r2 == 0) goto L_0x0033
            if (r2 != r3) goto L_0x002b
            dev.kdrag0n.virt.vm.ForwardedPort r7 = r0.R
            gkP r6 = r0.f4093R
            defpackage.jjU.o(r8)
            goto L_0x004b
        L_0x002b:
            java.lang.IllegalStateException r6 = new java.lang.IllegalStateException
            java.lang.String r7 = "call to 'resume' before 'invoke' with coroutine"
            r6.<init>(r7)
            throw r6
        L_0x0033:
            defpackage.jjU.o(r8)
            aME r8 = r6.R
            java.lang.String r2 = r7.f2732R
            int r4 = r7.R
            int r5 = r7.v
            r0.f4093R = r6
            r0.R = r7
            r0.e = r3
            java.lang.Object r8 = r8.Z(r2, r4, r5, r0)
            if (r8 != r1) goto L_0x004b
            return r1
        L_0x004b:
            int r8 = r7.v
            r6.getClass()
            java.lang.StringBuilder r0 = new java.lang.StringBuilder
            r0.<init>()
            java.lang.String r1 = "stopPortForward: "
            r0.append(r1)
            r0.append(r8)
            java.lang.String r0 = r0.toString()
            r1 = 4
            r2 = 0
            java.lang.String r3 = "virtc/portfwd"
            defpackage.kxm.v(r3, r1, r0, r2)
            java.util.LinkedHashMap r0 = r6.f3920R
            java.lang.Integer r1 = java.lang.Integer.valueOf(r8)
            java.lang.Object r0 = r0.remove(r1)
            java.lang.Integer r0 = (java.lang.Integer) r0
            if (r0 == 0) goto L_0x007d
            int r0 = r0.intValue()
            dev.kdrag0n.virt.NativeLib.m(r0)
        L_0x007d:
            java.util.LinkedHashMap r0 = r6.v
            java.lang.Integer r8 = java.lang.Integer.valueOf(r8)
            java.lang.Object r8 = r0.remove(r8)
            java.lang.Integer r8 = (java.lang.Integer) r8
            if (r8 == 0) goto L_0x0092
            int r8 = r8.intValue()
            dev.kdrag0n.virt.NativeLib.m(r8)
        L_0x0092:
            doT r8 = r6.f3916R
            hSq r0 = r8.e
            icv[] r1 = defpackage.doT.v
            r2 = 2
            r3 = r1[r2]
            java.lang.Object r0 = r0.v(r8, r3)
            java.util.Set r0 = (java.util.Set) r0
            k49 r6 = r6.f3921R
            java.lang.String r6 = r6.X(r7)
            java.util.LinkedHashSet r6 = defpackage.cYa.M(r0, r6)
            hSq r7 = r8.e
            r0 = r1[r2]
            r7.R(r8, r0, r6)
            o8s r6 = defpackage.o8s.R
            return r6
        */
        throw new UnsupportedOperationException("Method not decompiled: defpackage.gkP.v(dev.kdrag0n.virt.vm.ForwardedPort, aOO):java.lang.Object");
    }
}
